<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="assets/images/logo.png">
    <title>KCCA Staff Multipurpose Cooperative Society Limited - Growing and Saving Together</title>
    <!-- Google fonts -->
    <link href="//fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <!-- Template CSS Style link -->
    <link rel="stylesheet" href="assets/css/style.css">

</head>

<body>
    <!-- header -->
    <header id="site-header" class="fixed-top">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand" href="index.html">
                    <img id="logo" src="assets/images/banner.png" data-light="assets/images/banner.png"
                        data-dark="assets/images/banner.png" alt="Workup Logo" style="height: 70px;">
                </a>
                <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon fa icon-expand fa-bars"></span>
                    <span class="navbar-toggler-icon fa icon-close fa-times"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarScroll">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0 navbar-nav-scroll align-items-center">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">About Us</a>
                        </li>
                        <li class="nav-item dropdown" id="productsDropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false" id="productsDropdownToggle">
                                Products <i class="fas fa-caret-down ms-1"></i>
                            </a>
                            <div class="dropdown-menu mega-dropdown" aria-labelledby="productsDropdownToggle">
                                <div class="row">
                                    <div class="col-md-4">
                                        <h6 class="dropdown-header">Savings</h6>
                                        <a class="dropdown-item" href="member-savings.html">Member Savings</a>
                                        <a class="dropdown-item" href="toto-savings.html">Toto Savings</a>
                                        <a class="dropdown-item" href="group-savings.html">Group Savings</a>
                                        <a class="dropdown-item" href="fixed-deposits.html">Fixed Deposits</a>
                                    </div>
                                    <div class="col-md-4">
                                        <h6 class="dropdown-header">Credit Facilities</h6>
                                        <a class="dropdown-item" href="main-loan.html">Main Loan</a>
                                        <a class="dropdown-item" href="emergency-loan.html">Emergency Loan</a>
                                        <a class="dropdown-item" href="land-loan.html">Land Loan</a>
                                        <a class="dropdown-item" href="estate-development-loan.html">Estate Development Loan</a>
                                        <a class="dropdown-item" href="school-fees-loan.html">School Fees Loan</a>
                                    </div>
                                    <div class="col-md-4">
                                        <h6 class="dropdown-header">Asset Financing</h6>
                                        <a class="dropdown-item" href="geepas.html">GEEPAS</a>
                                        <a class="dropdown-item" href="mantra-uganda.html">Mantra Uganda Limited</a>
                                        <a class="dropdown-item" href="diamond-stars.html">Diamond Stars Limited</a>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="membership.html">Membership</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="resources.html">Resources</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">Contact Us</a>
                        </li>
                        <li class="nav-item ms-3">
                            <a href="https://finhazi.com/login"
                                class="btn btn-style btn-success rounded-pill px-3 py-1 border-2 fw-bold text-white">
                                Login <i class="fas fa-sign-in-alt text-white"></i>
                            </a>
                        </li>

                    </ul>
                </div>

                <!-- toggle switch for light and dark theme -->
                <div class="cont-ser-position">
                    <nav class="navigation">
                        <div class="professional-toggle">
                            <button id="theme-toggle" class="theme-btn" aria-label="Toggle dark mode">
                                <i id="theme-icon" class="fas fa-moon"></i>
                            </button>
                        </div>
                    </nav>
                </div>
                <!-- //toggle switch for light and dark theme -->

            </nav>
        </div>
    </header>
    <!-- //header -->

    <div class="slider">
        <!-- Slide 1: Become a Member -->
        <div class="slide current">
            <div class="bg-layer" style="background-image: url('assets/images/membership-bg.jpg');">
                <div class="content">
                    <h6>Membership Made Easy</h6>
                    <h3>Become a Member</h3>
                    <p class="my-3">Join our cooperative and take control of your financial future</p>
                    <a href="membership.html" class="btn btn-style btn-danger mt-2">Join Now</a>

                </div>
            </div>
        </div>

        <!-- Slide 2: How to Borrow -->
        <div class="slide">
            <div class="bg-layer">
                <div class="content">
                    <h6>Need a Loan?</h6>
                    <h3>How to Borrow</h3>
                    <p class="my-3">Discover our simple borrowing process and flexible credit terms</p>
                    <a href="creditfacilities.html" class="btn btn-style btn-danger mt-2">Apply for a Loan</a>

                </div>
            </div>
        </div>

        <!-- Slide 3: Save With Us -->
        <div class="slide">
            <div class="bg-layer">
                <div class="content">
                    <h6>Smart Saving Starts Here</h6>
                    <h3>Save With Us</h3>
                    <p class="my-3">Secure your future with high-yield savings plans</p>
                    <a href="savings.html" class="btn btn-style btn-danger mt-2">Start Saving</a>

                </div>
            </div>
        </div>

        <!-- Slide 4: Asset Financing -->
        <div class="slide">
            <div class="bg-layer">
                <div class="content">
                    <h6>Finance Your Future</h6>
                    <h3>Asset Financing</h3>
                    <p class="my-3">Get support to acquire land, vehicles, or equipment affordably</p>
                    <a href="assetfinancing.html" class="btn btn-style btn-danger mt-2">Get Started</a>

                </div>
            </div>
        </div>

        <!-- Navigation Buttons -->
        <div class="slider-nav">
            <button type="button" onclick="prevSlide()" class="nav-btn prev-btn">
                <i class="fas fa-arrow-left"></i>
            </button>
            <button type="button" onclick="nextSlide()" class="nav-btn next-btn">
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- Why Choose Us Section -->
    <section class="w3l-about py-5" id="about">
        <div class="container py-lg-3 py-md-2 py-2 theme-container">
            <div class="title-main mb-4 text-left">
                <h5 class="small-title mb-2">Why Choose Us</h5>
                <h3 class="title-style text-dark mb-3">KCCA Staff Multipurpose Cooperative Society</h3>
                <p class="text-muted mb-0">
                    KCCA Staff Multipurpose Cooperative Society is a member-owned financial institution founded by
                    Kampala Capital City Authority (KCCA) staff to empower members through savings, affordable credit,
                    and financial growth.
                </p>
            </div>
            <div class="row align-items-center">
                <!-- Left: Benefits with Integrated Stats -->
                <div class="col-lg-6 pe-lg-4">
                    <div class="why-choose-list mt-3">
                        <div class="why-choose-item">
                            <div class="icon">
                                <i class="fas fa-users" aria-hidden="true"></i>
                            </div>
                            <div class="content">
                                <h4>Member-Owned Community</h4>
                                <p>Since 2013, we've grown from 398 to 1,252 members, all with equal ownership in our
                                    democratic cooperative.</p>
                                <div class="stat-inline">
                                    <span class="counter" data-target="1252" aria-label="1252 active members">0</span>
                                    <span class="stat-text"> Active Members</span>
                                    <span class="stat-note">10% growth from 2022</span>
                                </div>
                            </div>
                        </div>
                        <div class="why-choose-item">
                            <div class="icon">
                                <i class="fas fa-chart-line" aria-hidden="true"></i>
                            </div>
                            <div class="content">
                                <h4>Financial Stability</h4>
                                <p>Our UGX 17.4 billion in assets ensures stability, backed by regulatory oversight.</p>
                                <div class="stat-inline">
                                    <span class="counter" data-target="17.4"
                                        aria-label="17.4 billion UGX in assets">0</span>
                                    <span class="stat-text"> Billion UGX Assets</span>
                                    <span class="stat-note">6.1% growth</span>
                                </div>
                            </div>
                        </div>
                        <div class="why-choose-item">
                            <div class="icon">
                                <i class="fas fa-piggy-bank" aria-hidden="true"></i>
                            </div>
                            <div class="content">
                                <h4>Rewarding Savings</h4>
                                <p>We offer high-return savings, managing UGX 13.4 billion, accessible via online
                                    banking.</p>
                                <div class="stat-inline">
                                    <span class="counter" data-target="13.4"
                                        aria-label="13.4 billion UGX in savings">0</span>
                                    <span class="stat-text"> Billion UGX Savings</span>
                                    <span class="stat-note">11% interest paid</span>
                                </div>
                            </div>
                        </div>
                        <div class="why-choose-item">
                            <div class="icon">
                                <i class="fas fa-hand-holding-usd" aria-hidden="true"></i>
                            </div>
                            <div class="content">
                                <h4>Affordable Loans</h4>
                                <p>We provide emergency and development loans, with a UGX 16.1 billion portfolio for
                                    staff.</p>
                                <div class="stat-inline">
                                    <span class="counter" data-target="16.1"
                                        aria-label="16.1 billion UGX loan portfolio">0</span>
                                    <span class="stat-text"> Billion UGX Loans</span>
                                    <span class="stat-note">95% of assets</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Right: Image with Bigger Badge -->
                <div class="col-lg-6 mt-lg-0 mt-4 position-relative">
                    <img src="assets/images/img1.jpg" alt="KCCA Cooperative Team" class="img-fluid radius-image">
                    <div class="years-badge">
                        <span class="number">12+</span>
                        <span class="text">Years</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript -->
    <script>
        // Simple Dark Mode Toggle Script
        document.addEventListener('DOMContentLoaded', function () {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');

            function switchTheme() {
                const currentTheme = document.documentElement.getAttribute('data-theme');

                // Detect browser for Firefox-specific handling
                const isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;

                // Clear ALL section inline styles first, regardless of theme
                const allSections = ['#progress', '#news', '#partners', '#services', '.w3l-progress', '.services-section', '.partners-section'];
                allSections.forEach(selector => {
                    const sections = document.querySelectorAll(selector);
                    sections.forEach(section => {
                        if (section) {
                            section.style.removeProperty('background-color');
                            section.style.removeProperty('background');
                            section.style.removeProperty('background-image');
                            section.style.backgroundColor = '';
                            section.style.background = '';
                            section.style.backgroundImage = '';
                        }
                    });
                });

                // Remove any existing theme-specific styles and conflicting scripts
                const existingStyles = document.querySelectorAll('#forced-section-backgrounds, #light-mode-section-backgrounds, #immediate-dark-mode-fix, style[data-theme-style], #firefox-theme-fix');
                existingStyles.forEach(style => style.remove());

                // Also remove any styles that contain section background overrides
                const allStyles = document.querySelectorAll('style');
                allStyles.forEach(style => {
                    if (style.innerHTML && (
                        style.innerHTML.includes('#progress') ||
                        style.innerHTML.includes('.w3l-progress') ||
                        style.innerHTML.includes('background-color: #1E1E1E') ||
                        style.innerHTML.includes('background: #1E1E1E')
                    )) {
                        style.remove();
                    }
                });

                if (currentTheme === 'dark') {
                    // Switch to light mode
                    document.documentElement.setAttribute('data-theme', 'light');
                    localStorage.setItem('theme', 'light');
                    document.body.classList.remove('dark-mode');
                    themeIcon.className = 'fas fa-moon';
                    themeToggle.setAttribute('aria-label', 'Switch to dark mode');

                    // Update theme containers
                    const themeContainers = document.querySelectorAll('.theme-container');
                    themeContainers.forEach(container => {
                        container.classList.remove('dark-mode');
                    });

                    // Firefox-specific light mode fix with multiple selector approaches
                    if (isFirefox) {
                        const firefoxLightFix = document.createElement('style');
                        firefoxLightFix.id = 'firefox-theme-fix';
                        firefoxLightFix.innerHTML = `
                            /* Firefox-specific light mode fixes - multiple selector approaches */
                            html[data-theme="light"] body,
                            html[data-theme="light"],
                            [data-theme="light"] body,
                            [data-theme="light"],
                            html:not([data-theme="dark"]) body,
                            html:not([data-theme="dark"]) {
                                background-color: #ffffff !important;
                                color: #333333 !important;
                            }

                            /* Progress section - multiple selectors */
                            html[data-theme="light"] .w3l-progress,
                            html[data-theme="light"] #progress,
                            [data-theme="light"] .w3l-progress,
                            [data-theme="light"] #progress,
                            html:not([data-theme="dark"]) .w3l-progress,
                            html:not([data-theme="dark"]) #progress,
                            body:not(.dark-mode) .w3l-progress,
                            body:not(.dark-mode) #progress {
                                background-color: #f8f9fa !important;
                                background: #f8f9fa !important;
                            }

                            /* Services section - multiple selectors */
                            html[data-theme="light"] .services-section,
                            html[data-theme="light"] #services,
                            [data-theme="light"] .services-section,
                            [data-theme="light"] #services,
                            html:not([data-theme="dark"]) .services-section,
                            html:not([data-theme="dark"]) #services,
                            body:not(.dark-mode) .services-section,
                            body:not(.dark-mode) #services {
                                background-color: #ffffff !important;
                                background: #ffffff !important;
                            }

                            /* Partners section - multiple selectors */
                            html[data-theme="light"] .partners-section,
                            html[data-theme="light"] #partners,
                            [data-theme="light"] .partners-section,
                            [data-theme="light"] #partners,
                            html:not([data-theme="dark"]) .partners-section,
                            html:not([data-theme="dark"]) #partners,
                            body:not(.dark-mode) .partners-section,
                            body:not(.dark-mode) #partners {
                                background-color: #ffffff !important;
                                background: #ffffff !important;
                            }

                            /* News section - multiple selectors */
                            html[data-theme="light"] .w3l-blog-block-5,
                            html[data-theme="light"] #news,
                            [data-theme="light"] .w3l-blog-block-5,
                            [data-theme="light"] #news,
                            html:not([data-theme="dark"]) .w3l-blog-block-5,
                            html:not([data-theme="dark"]) #news,
                            body:not(.dark-mode) .w3l-blog-block-5,
                            body:not(.dark-mode) #news {
                                background-color: #f8f9fa !important;
                                background: #f8f9fa !important;
                            }
                        `;
                        document.head.appendChild(firefoxLightFix);

                        // Force immediate style application in Firefox for light mode
                        setTimeout(() => {
                            const sections = document.querySelectorAll('#progress, #services, #partners, #news, .w3l-progress, .services-section, .partners-section, .w3l-blog-block-5');
                            sections.forEach(section => {
                                if (section) {
                                    // Progress section gets light grey, Services section gets white, News section gets light grey, Partners section gets white
                                    let bgColor = '#ffffff'; // default white
                                    if (section.id === 'progress' || section.classList.contains('w3l-progress') || section.id === 'news' || section.classList.contains('w3l-blog-block-5')) {
                                        bgColor = '#f8f9fa'; // light grey for progress and news sections
                                    }
                                    section.style.setProperty('background-color', bgColor, 'important');
                                    section.style.setProperty('background', bgColor, 'important');
                                }
                            });
                        }, 10);
                    }

                    console.log('Switched to light mode - all inline styles cleared');
                } else {
                    // Switch to dark mode
                    document.documentElement.setAttribute('data-theme', 'dark');
                    localStorage.setItem('theme', 'dark');
                    document.body.classList.add('dark-mode');
                    themeIcon.className = 'fas fa-sun';
                    themeToggle.setAttribute('aria-label', 'Switch to light mode');

                    // Update theme containers
                    const themeContainers = document.querySelectorAll('.theme-container');
                    themeContainers.forEach(container => {
                        container.classList.add('dark-mode');
                    });

                    // Firefox-specific dark mode fix with multiple selector approaches
                    if (isFirefox) {
                        const firefoxDarkFix = document.createElement('style');
                        firefoxDarkFix.id = 'firefox-theme-fix';
                        firefoxDarkFix.innerHTML = `
                            /* Firefox-specific dark mode fixes - multiple selector approaches */
                            html[data-theme="dark"] body,
                            html[data-theme="dark"],
                            [data-theme="dark"] body,
                            [data-theme="dark"] {
                                background-color: #121212 !important;
                                color: #ffffff !important;
                            }

                            /* Progress section - multiple selectors */
                            html[data-theme="dark"] .w3l-progress,
                            html[data-theme="dark"] #progress,
                            [data-theme="dark"] .w3l-progress,
                            [data-theme="dark"] #progress,
                            body.dark-mode .w3l-progress,
                            body.dark-mode #progress {
                                background-color: #1E1E1E !important;
                                background: #1E1E1E !important;
                            }

                            /* Services section - multiple selectors */
                            html[data-theme="dark"] .services-section,
                            html[data-theme="dark"] #services,
                            [data-theme="dark"] .services-section,
                            [data-theme="dark"] #services,
                            body.dark-mode .services-section,
                            body.dark-mode #services {
                                background-color: #121212 !important;
                                background: #121212 !important;
                            }

                            /* Partners section - multiple selectors */
                            html[data-theme="dark"] .partners-section,
                            html[data-theme="dark"] #partners,
                            [data-theme="dark"] .partners-section,
                            [data-theme="dark"] #partners,
                            body.dark-mode .partners-section,
                            body.dark-mode #partners {
                                background-color: #121212 !important;
                                background: #121212 !important;
                            }

                            /* News section - multiple selectors */
                            html[data-theme="dark"] .w3l-blog-block-5,
                            html[data-theme="dark"] #news,
                            [data-theme="dark"] .w3l-blog-block-5,
                            [data-theme="dark"] #news,
                            body.dark-mode .w3l-blog-block-5,
                            body.dark-mode #news {
                                background-color: #121212 !important;
                                background: #121212 !important;
                            }
                        `;
                        document.head.appendChild(firefoxDarkFix);

                        // Force immediate style application in Firefox
                        setTimeout(() => {
                            const sections = document.querySelectorAll('#progress, #services, #partners, #news, .w3l-progress, .services-section, .partners-section, .w3l-blog-block-5');
                            sections.forEach(section => {
                                if (section) {
                                    // Progress and news sections get medium grey, services and partners get dark black
                                    let bgColor = '#121212'; // default dark black
                                    if (section.id === 'progress' || section.classList.contains('w3l-progress') || section.id === 'news' || section.classList.contains('w3l-blog-block-5')) {
                                        bgColor = '#1E1E1E'; // medium grey for progress and news sections
                                    }
                                    section.style.setProperty('background-color', bgColor, 'important');
                                    section.style.setProperty('background', bgColor, 'important');
                                }
                            });
                        }, 10);
                    }

                    console.log('Switched to dark mode');
                }

                // Trigger theme change event for other components
                const themeEvent = new CustomEvent('themeChanged', {
                    detail: { theme: currentTheme === 'dark' ? 'light' : 'dark' }
                });
                window.dispatchEvent(themeEvent);

                // Force a small delay then clear styles again to ensure they stick
                setTimeout(() => {
                    if (document.documentElement.getAttribute('data-theme') === 'light') {
                        allSections.forEach(selector => {
                            const sections = document.querySelectorAll(selector);
                            sections.forEach(section => {
                                if (section) {
                                    section.style.removeProperty('background-color');
                                    section.style.removeProperty('background');
                                    section.style.removeProperty('background-image');
                                }
                            });
                        });
                        console.log('Light mode: Final cleanup of inline styles completed');
                    }
                }, 100);

                // Firefox needs gentle reflows that don't affect scroll position
                if (isFirefox) {
                    // Store current scroll position
                    const currentScrollY = window.scrollY;
                    const currentScrollX = window.scrollX;

                    // Gentle reflow using opacity instead of display
                    setTimeout(() => {
                        document.body.style.opacity = '0.99';
                        document.body.offsetHeight; // Trigger reflow
                        document.body.style.opacity = '';

                        // Restore scroll position if it changed
                        if (window.scrollY !== currentScrollY || window.scrollX !== currentScrollX) {
                            window.scrollTo(currentScrollX, currentScrollY);
                        }
                        console.log('Firefox: Gentle reflow completed without scroll disruption');
                    }, 50);

                    // Additional gentle reflow for sections
                    setTimeout(() => {
                        const sections = document.querySelectorAll('#progress, #services, #partners, #news, .w3l-progress, .services-section, .partners-section, .w3l-blog-block-5');
                        sections.forEach(section => {
                            if (section) {
                                // Use transform instead of display to avoid layout shifts
                                section.style.transform = 'translateZ(0)';
                                section.offsetHeight; // Force reflow
                                section.style.transform = '';
                            }
                        });

                        // Ensure scroll position is maintained
                        window.scrollTo(currentScrollX, currentScrollY);
                        console.log('Firefox: Section reflow completed with scroll position preserved');
                    }, 100);
                }
            }

            // Check for saved theme preference
            const currentTheme = localStorage.getItem('theme');

            // Detect browser for Firefox-specific handling
            const isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;

            // Clear any lingering inline styles on page load
            const allSections = ['#progress', '#news', '#partners', '#services', '.w3l-progress', '.services-section', '.partners-section'];

            if (currentTheme) {
                document.documentElement.setAttribute('data-theme', currentTheme);
                if (currentTheme === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeIcon.className = 'fas fa-sun';
                    themeToggle.setAttribute('aria-label', 'Switch to light mode');

                    // Update theme containers
                    const themeContainers = document.querySelectorAll('.theme-container');
                    themeContainers.forEach(container => {
                        container.classList.add('dark-mode');
                    });

                    // Firefox-specific dark mode initialization
                    if (isFirefox) {
                        const firefoxDarkInit = document.createElement('style');
                        firefoxDarkInit.id = 'firefox-theme-fix';
                        firefoxDarkInit.innerHTML = `
                            /* Firefox-specific dark mode initialization */
                            html[data-theme="dark"] body,
                            html[data-theme="dark"] {
                                background-color: #121212 !important;
                                color: #ffffff !important;
                            }
                            html[data-theme="dark"] .w3l-progress,
                            html[data-theme="dark"] #progress {
                                background-color: #1E1E1E !important;
                            }
                            html[data-theme="dark"] .services-section,
                            html[data-theme="dark"] #services {
                                background-color: #121212 !important;
                            }
                            html[data-theme="dark"] .partners-section,
                            html[data-theme="dark"] #partners {
                                background-color: #121212 !important;
                            }
                            html[data-theme="dark"] .w3l-blog-block-5,
                            html[data-theme="dark"] #news {
                                background-color: #121212 !important;
                            }
                        `;
                        document.head.appendChild(firefoxDarkInit);
                    }
                } else {
                    // Light mode - clear any lingering dark mode inline styles
                    themeIcon.className = 'fas fa-moon';
                    themeToggle.setAttribute('aria-label', 'Switch to dark mode');

                    // Firefox-specific light mode initialization
                    if (isFirefox) {
                        const firefoxLightInit = document.createElement('style');
                        firefoxLightInit.id = 'firefox-theme-fix';
                        firefoxLightInit.innerHTML = `
                            /* Firefox-specific light mode initialization */
                            html[data-theme="light"] body,
                            html[data-theme="light"] {
                                background-color: #ffffff !important;
                                color: #333333 !important;
                            }
                            html[data-theme="light"] .w3l-progress,
                            html[data-theme="light"] #progress {
                                background-color: #f8f9fa !important;
                            }
                            html[data-theme="light"] .services-section,
                            html[data-theme="light"] #services {
                                background-color: #ffffff !important;
                            }
                            html[data-theme="light"] .partners-section,
                            html[data-theme="light"] #partners {
                                background-color: #ffffff !important;
                            }
                            html[data-theme="light"] .w3l-blog-block-5,
                            html[data-theme="light"] #news {
                                background-color: #f8f9fa !important;
                            }
                        `;
                        document.head.appendChild(firefoxLightInit);
                    }

                    // Clear inline styles that might be left over from dark mode
                    setTimeout(() => {
                        allSections.forEach(selector => {
                            const sections = document.querySelectorAll(selector);
                            sections.forEach(section => {
                                if (section) {
                                    section.style.removeProperty('background-color');
                                    section.style.removeProperty('background');
                                    section.style.removeProperty('background-image');
                                    section.style.backgroundColor = '';
                                    section.style.background = '';
                                    section.style.backgroundImage = '';
                                }
                            });
                        });
                        console.log('Page load: Cleared lingering dark mode styles for light mode');
                    }, 50);
                }
            } else {
                // Default to light mode and clear any styles
                document.documentElement.setAttribute('data-theme', 'light');
                themeIcon.className = 'fas fa-moon';
                themeToggle.setAttribute('aria-label', 'Switch to dark mode');

                // Firefox-specific default light mode
                if (isFirefox) {
                    const firefoxDefaultInit = document.createElement('style');
                    firefoxDefaultInit.id = 'firefox-theme-fix';
                    firefoxDefaultInit.innerHTML = `
                        /* Firefox-specific default light mode */
                        html[data-theme="light"] body,
                        html[data-theme="light"] {
                            background-color: #ffffff !important;
                            color: #333333 !important;
                        }
                        html[data-theme="light"] .w3l-progress,
                        html[data-theme="light"] #progress {
                            background-color: #f8f9fa !important;
                        }
                        html[data-theme="light"] .services-section,
                        html[data-theme="light"] #services {
                            background-color: #ffffff !important;
                        }
                        html[data-theme="light"] .partners-section,
                        html[data-theme="light"] #partners {
                            background-color: #ffffff !important;
                        }
                        html[data-theme="light"] .w3l-blog-block-5,
                        html[data-theme="light"] #news {
                            background-color: #f8f9fa !important;
                        }
                    `;
                    document.head.appendChild(firefoxDefaultInit);
                }

                // Clear any lingering styles
                setTimeout(() => {
                    allSections.forEach(selector => {
                        const sections = document.querySelectorAll(selector);
                        sections.forEach(section => {
                            if (section) {
                                section.style.removeProperty('background-color');
                                section.style.removeProperty('background');
                                section.style.removeProperty('background-image');
                            }
                        });
                    });
                    console.log('Page load: Default light mode - cleared any lingering styles');
                }, 50);
            }

            // Event listener for theme toggle button
            if (themeToggle) {
                themeToggle.addEventListener('click', switchTheme);
            }
        });

        // Move to top button
        window.onscroll = function () {
            scrollFunction()
        };

        function scrollFunction() {
            const moveTopBtn = document.getElementById("movetop");
            if (moveTopBtn) {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    moveTopBtn.style.display = "block";
                } else {
                    moveTopBtn.style.display = "none";
                }
            }
        }

        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

        // Counter animation
        document.addEventListener("DOMContentLoaded", () => {
            const counters = document.querySelectorAll('.counter');

            const animateCounter = (counter, index) => {
                const target = parseFloat(counter.getAttribute('data-target'));
                let current = 0;
                const duration = 2000;
                const startTime = performance.now();
                const isDecimal = target % 1 !== 0;

                const updateCounter = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const value = target * progress;

                    counter.innerText = isDecimal
                        ? value.toFixed(1)
                        : Math.floor(value).toLocaleString('en-US');

                    if (progress < 1) {
                        requestAnimationFrame(updateCounter);
                    }
                };

                setTimeout(() => requestAnimationFrame(updateCounter), index * 150);
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        counters.forEach((counter, index) => animateCounter(counter, index));
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.2 });

            observer.observe(document.getElementById('about'));
        });

        // Slider button hover effects
        const sliderButtons = document.querySelectorAll('.buttons button');

        sliderButtons.forEach(button => {
            button.addEventListener('mouseenter', () => {
                button.style.backgroundColor = '#2E7D32 !important';
                button.style.borderColor = '#2E7D32 !important';
                button.style.transform = 'translateY(-2px)';
                button.style.boxShadow = '0 4px 12px rgba(46, 125, 50, 0.4)';
            });

            button.addEventListener('mouseleave', () => {
                button.style.backgroundColor = '#D32F2F !important';
                button.style.borderColor = '#D32F2F !important';
                button.style.transform = 'none';
                button.style.boxShadow = '0 2px 8px rgba(211, 47, 47, 0.3)';
            });
        });

        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () {
            scrollFunction()
        };
    </script>


    <script>
        // Enhanced dropdown behavior
        document.addEventListener('DOMContentLoaded', function () {
            const dropdown = document.getElementById('productsDropdown');
            const dropdownToggle = document.getElementById('productsDropdownToggle');
            const dropdownMenu = dropdown.querySelector('.dropdown-menu');

            let hoverTimeout;

            // Show dropdown on hover
            dropdown.addEventListener('mouseenter', function () {
                clearTimeout(hoverTimeout);
                dropdownMenu.classList.add('show');
                dropdownToggle.setAttribute('aria-expanded', 'true');
            });

            // Hide dropdown on mouse leave with delay
            dropdown.addEventListener('mouseleave', function () {
                hoverTimeout = setTimeout(function () {
                    dropdownMenu.classList.remove('show');
                    dropdownToggle.setAttribute('aria-expanded', 'false');
                }, 300); // 300ms delay before hiding
            });

            // Handle click events
            dropdownToggle.addEventListener('click', function (e) {
                e.preventDefault();

                if (dropdownMenu.classList.contains('show')) {
                    dropdownMenu.classList.remove('show');
                    dropdownToggle.setAttribute('aria-expanded', 'false');
                } else {
                    dropdownMenu.classList.add('show');
                    dropdownToggle.setAttribute('aria-expanded', 'true');
                }
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function (e) {
                if (!dropdown.contains(e.target)) {
                    dropdownMenu.classList.remove('show');
                    dropdownToggle.setAttribute('aria-expanded', 'false');
                }
            });

            // Prevent Bootstrap's default dropdown behavior from interfering
            dropdownToggle.addEventListener('click', function (e) {
                e.stopPropagation();
            });
        });
    </script>

    <!-- Dropdown Styling -->
    <style>
        /* Dropdown Spacing Fix */
        .mega-dropdown {
            margin-top: 10px !important;
            min-width: 600px !important;
            padding: 20px !important;
            border: 1px solid #e9ecef !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;
            border-radius: 6px !important;
            position: absolute !important;
            top: 100% !important;
            left: 0 !important;
            z-index: 1000 !important;
            background-color: white !important;
        }

        .mega-dropdown .row {
            margin: 0 !important;
        }

        .mega-dropdown .col-md-4 {
            padding: 0 15px !important;
        }

        /* Horizontal headings */
        .mega-dropdown .dropdown-header {
            color: #28a745 !important;
            font-weight: 600 !important;
            font-size: 0.95rem !important;
            text-transform: capitalize !important;
            letter-spacing: 0.5px !important;
            padding: 0 0 10px 0 !important;
            margin-bottom: 10px !important;
            border-bottom: 2px solid #28a745 !important;
            display: block !important;
        }

        /* Vertical products under each heading */
        .mega-dropdown .dropdown-item {
            padding: 8px 0 !important;
            color: #666 !important;
            font-size: 0.9rem !important;
            transition: all 0.2s ease !important;
            border: none !important;
            background: none !important;
            display: block !important;
        }

        .mega-dropdown .dropdown-item:hover {
            background-color: #f8f9fa !important;
            color: #28a745 !important;
            padding-left: 10px !important;
        }

        /* Enhanced Dark mode styling */
        [data-theme="dark"] .mega-dropdown {
            background-color: #1a1a1a !important;
            border: 1px solid #333333 !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3) !important;
        }

        [data-theme="dark"] .mega-dropdown .dropdown-header {
            color: #4ade80 !important;
            border-bottom: 2px solid #4ade80 !important;
        }

        [data-theme="dark"] .mega-dropdown .dropdown-item {
            color: #e5e5e5 !important;
        }

        [data-theme="dark"] .mega-dropdown .dropdown-item:hover {
            background-color: #333333 !important;
            color: #4ade80 !important;
            padding-left: 10px !important;
        }

        /* Force dark mode dropdown visibility */
        [data-theme="dark"] .dropdown-menu.mega-dropdown {
            background-color: #1a1a1a !important;
            border-color: #333333 !important;
        }

        [data-theme="dark"] .dropdown-menu.mega-dropdown .dropdown-header {
            color: #4ade80 !important;
            border-bottom-color: #4ade80 !important;
        }

        [data-theme="dark"] .dropdown-menu.mega-dropdown .dropdown-item {
            color: #e5e5e5 !important;
        }

        [data-theme="dark"] .dropdown-menu.mega-dropdown .dropdown-item:hover {
            background-color: #333333 !important;
            color: #4ade80 !important;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .mega-dropdown {
                min-width: 100% !important;
                margin-top: 5px !important;
            }

            .mega-dropdown .col-md-4 {
                margin-bottom: 20px !important;
            }

            .mega-dropdown .col-md-4:last-child {
                margin-bottom: 0 !important;
            }
        }
    </style>

    <!-- Products & Services Section -->
    <section class="products-services py-5" id="products-services">
        <div class="container py-lg-4 py-md-3 py-2">
            <div class="title-main text-center mx-auto mb-md-5 mb-4" style="max-width:700px;">
                <h5 class="small-title mb-2">Our Offerings</h5>
                <h3 class="title-style">Products & Services</h3>
                <p class="mt-3">We provide comprehensive financial solutions tailored for KCCA staff needs</p>
            </div>

            <!-- Products Tabs -->
            <div class="row">
                <div class="col-lg-12">
                    <ul class="nav nav-tabs products-tabs" id="productsTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="savings-tab" data-bs-toggle="tab"
                                data-bs-target="#savings" type="button" role="tab">Savings</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="credit-tab" data-bs-toggle="tab" data-bs-target="#credit"
                                type="button" role="tab">Credit Facilities</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="assets-tab" data-bs-toggle="tab" data-bs-target="#assets"
                                type="button" role="tab">Asset Financing</button>
                        </li>
                    </ul>

                    <div class="tab-content" id="productsTabContent">
                        <!-- Savings Products -->
                        <div class="tab-pane fade show active" id="savings" role="tabpanel">
                            <div class="row mt-4">
                                <div class="col-md-6 col-lg-3 mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-primary">
                                            <i class="fas fa-user-friends"></i>
                                        </div>
                                        <h4>Member Savings</h4>
                                        <p>Regular savings account with competitive interest rates and flexible
                                            withdrawal options</p>
                                        <div class="product-rate">
                                            <span class="rate">Annual</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <a href="savings.html"
                                            class="btn btn-outline-blue rounded-pill px-4 mt-3">Learn More</a>
                                    </div>
                                </div>
                                <div class="col-md-6 col-lg-3 mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-success">
                                            <i class="fas fa-child"></i>
                                        </div>
                                        <h4>Toto Savings</h4>
                                        <p>Special savings plan for children's education with bonus interest upon
                                            maturity</p>
                                        <div class="product-rate">
                                            <span class="rate">Annual</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <div style="height: 20px;"></div>
                                        <a href="#" class="btn btn-outline-success rounded-pill px-4 mt-3">Learn
                                            More</a>
                                    </div>
                                </div>
                                <div class="col-md-6 col-lg-3 mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-warning">
                                            <i class="fas fa-users"></i>
                                        </div>
                                        <h4>Group Savings</h4>
                                        <p>Collective savings for groups with enhanced benefits and shared dividends</p>
                                        <div class="product-rate">
                                            <span class="rate">Annual</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <div style="height: 20px;"></div>
                                        <a href="#" class="btn btn-outline-warning rounded-pill px-4 mt-3">Learn
                                            More</a>
                                    </div>
                                </div>
                                <div class="col-md-6 col-lg-3 mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-info">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <h4>Fixed Deposits</h4>
                                        <p>Higher yield savings with fixed terms and guaranteed returns</p>
                                        <div class="product-rates">
                                            <div class="rate-item">
                                                <span>9%</span> for 3 months
                                            </div>
                                            <div class="rate-item">
                                                <span>10%</span> for 6 months
                                            </div>
                                            <div class="rate-item">
                                                <span>12%</span> for 12 months
                                            </div>
                                        </div>
                                        <a href="#" class="btn btn-outline-info rounded-pill px-4 mt-3">Learn More</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Credit Facilities -->
                        <div class="tab-pane fade" id="credit" role="tabpanel">
                            <div class="d-flex flex-wrap justify-content-between mt-4">
                                <div class="product-card-wrapper mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-danger">
                                            <i class="fas fa-home"></i>
                                        </div>
                                        <h4>Main Loan</h4>
                                        <p>General purpose loan for various needs with flexible repayment terms</p>
                                        <div class="product-rate">
                                            <span class="rate">14% p.a.</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <a href="creditfacilities.html" class="btn btn-outline-danger rounded-pill btn-inline mt-3">Apply
                                            Now</a>
                                    </div>
                                </div>
                                <div class="product-card-wrapper mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-secondary">
                                            <i class="fas fa-ambulance"></i>
                                        </div>
                                        <h4>Emergency Loan</h4>
                                        <p>Quick access funds for urgent needs with fast approval process</p>
                                        <div class="product-rate">
                                            <span class="rate">16% p.a.</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <a href="creditfacilities.html" class="btn btn-outline-secondary rounded-pill btn-inline mt-3">Apply
                                            Now</a>
                                    </div>
                                </div>
                                <div class="product-card-wrapper mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-success">
                                            <i class="fas fa-map-marked-alt"></i>
                                        </div>
                                        <h4>Land Loan</h4>
                                        <p>Special facility for secure land purchase and development projects</p>
                                        <div class="product-rate">
                                            <span class="rate">13% p.a.</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <a href="creditfacilities.html" class="btn btn-outline-success rounded-pill btn-inline mt-3">Apply
                                            Now</a>
                                    </div>
                                </div>
                                <div class="product-card-wrapper mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-primary">
                                            <i class="fas fa-hammer"></i>
                                        </div>
                                        <h4>Estate Development Loan</h4>
                                        <p>Home construction and property development</p>
                                        <div class="product-rate">
                                            <span class="rate">12.5% p.a.</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <a href="creditfacilities.html" class="btn btn-outline-blue rounded-pill btn-inline mt-3">Apply
                                            Now</a>
                                    </div>
                                </div>
                                <div class="product-card-wrapper mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-info">
                                            <i class="fas fa-graduation-cap"></i>
                                        </div>
                                        <h4>School Fees Loan</h4>
                                        <p>Education financing with flexible repayment aligned to school terms</p>
                                        <div class="product-rate">
                                            <span class="rate">13% p.a.</span>
                                            <span class="label">Interest</span>
                                        </div>
                                        <a href="creditfacilities.html" class="btn btn-outline-info rounded-pill btn-inline mt-3">Apply
                                            Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Asset Financing -->
                        <div class="tab-pane fade" id="assets" role="tabpanel">
                            <div class="row mt-4">

                                <!-- GEEPAS Partner -->
                                <div class="col-md-6 col-lg-4 mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-primary">
                                            <i class="fas fa-tv"></i>
                                        </div>
                                        <h4>GEEPAS</h4>
                                        <p>Exclusive discounts on home appliances and electronics for members</p>
                                        <div class="product-rate">
                                            <span class="rate">15% off</span>
                                            <span class="label">Electronics</span>
                                        </div>
                                        <div class="button-container">
                                            <a href="#" class="btn btn-outline-blue rounded-pill px-4 mt-3">View
                                                Offers</a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Mantra Uganda Limited Partner -->
                                <div class="col-md-6 col-lg-4 mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-success">
                                            <i class="fas fa-briefcase"></i>
                                        </div>
                                        <h4>Mantra Uganda Limited</h4>
                                        <p>Special deals on office equipment and business solutions</p>
                                        <div class="product-rate">
                                            <span class="rate">20% off</span>
                                            <span class="label">First Purchase</span>
                                        </div>
                                        <div class="button-container">
                                            <a href="#" class="btn btn-outline-success rounded-pill px-4 mt-3">Explore
                                                Services</a>
                                        </div>
                                    </div>
                                </div>

                                <!-- Diamond Stars Limited Partner -->
                                <div class="col-md-6 col-lg-4 mb-4">
                                    <div class="product-card">
                                        <div class="product-icon bg-warning">
                                            <i class="fas fa-hammer"></i>
                                        </div>
                                        <h4>Diamond Stars Limited</h4>
                                        <p>Preferred rates on construction materials and building services</p>
                                        <div class="product-rate">
                                            <span class="rate">10% off</span>
                                            <span class="label">Materials</span>
                                        </div>
                                        <div class="button-container">
                                            <a href="#" class="btn btn-outline-warning rounded-pill px-4 mt-3">Learn
                                                More</a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Initialize Bootstrap tabs
        document.addEventListener('DOMContentLoaded', function () {
            const tabElms = document.querySelectorAll('button[data-bs-toggle="tab"]');
            tabElms.forEach(tabEl => {
                tabEl.addEventListener('click', function (e) {
                    e.preventDefault();
                    const tab = new bootstrap.Tab(this);
                    tab.show();
                });
            });
        });
    </script>

    <!-- SACCO Impact Section with BG Images -->
    <div class="w3l-homeblock3 py-5">
        <div class="container py-lg-5 py-md-4 py-2">
            <div class="title-main text-center mx-auto mb-md-5 mb-4" style="max-width:700px;">
                <h5 class="small-title mb-2">Our Impact</h5>
                <h3 class="title-style">Supporting KCCA Staff to Realize Their Dreams</h3>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-4 col-md-6">
                    <div class="top-pic1">
                        <div class="card-body blog-details">
                            <span class="meta-value">Membership</span>
                            <a href="#membership" class="blog-desc">1,252+ Empowered Members (10% growth)
                            </a>
                            <a href="membership.html" class="btn btn-style-primary btn-style text-white mt-4 rounded-pill px-4 py-2"
                                style="font-size: 0.875rem;">Join Us
                                <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mt-md-0 mt-4">
                    <div class="top-pic2">
                        <div class="card-body blog-details">
                            <span class="meta-value">Loans</span>
                            <a href="#loans" class="blog-desc">UGX 16.1B Loan Portfolio (13.8% growth)
                            </a>
                            <a href="creditfacilities.html"
                                class="btn btn-style-primary btn-style text-white mt-4 rounded-pill px-4 py-2"
                                style="font-size: 0.875rem;">Apply Now
                                <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mt-lg-0 mt-4">
                    <div class="top-pic3">
                        <div class="card-body blog-details">
                            <span class="meta-value">Savings</span>
                            <a href="#savings" class="blog-desc">UGX 13.3B Member Savings
                            </a>
                            <a href="savings.html" class="btn btn-style-primary btn-style text-white mt-4 rounded-pill px-4 py-2"
                                style="font-size: 0.875rem;">Save With Us
                                <i class="fas fa-arrow-right ms-1"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- //SACCO Impact Section -->
    <!-- progress section with matching background to products section -->
    <section class="w3l-progress py-5" id="progress">
        <div class="container py-lg-5 py-md-4 py-2">
            <div class="row align-items-center">
                <div class="col-lg-6 about-2-secs-right mb-lg-0 mb-5">
                    <img src="assets/images/img2.jpg" alt="KCCA SACCO Performance" class="img-fluid radius-image" />
                </div>
                <div class="col-lg-6 about-2-secs-left ps-xl-5">
                    <h5 class="small-title mb-2">Our 2023 Performance</h5>
                    <h3 class="title-style mb-sm-3 mb-2">Record-Breaking Financial Growth</h3>
                    <p>KCCA Staff Cooperative achieved unprecedented results in 2023, with our core financial indicators
                        reaching new heights and digital transformation nearing completion.</p>
                    <div class="w3l-progressblock mt-md-5 mt-4">
                        <div class="progress-info info1">
                            <h6 class="progress-tittle">Loan Portfolio Coverage <span class="">95%</span></h6>
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 95%"
                                    aria-valuenow="95" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                        <div class="progress-info info3">
                            <h6 class="progress-tittle">Digital Transformation <span class="">75%</span></h6>
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 75%"
                                    aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                        <div class="progress-info info3">
                            <h6 class="progress-tittle">Member Satisfaction <span class="">89%</span></h6>
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 89%"
                                    aria-valuenow="89" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                        <div class="progress-info info3 mb-0">
                            <h6 class="progress-tittle">Loan Recovery Rate <span class="">82%</span></h6>
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 82%"
                                    aria-valuenow="82" aria-valuemin="0" aria-valuemax="100">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Improved section background synchronization
        document.addEventListener('DOMContentLoaded', function () {
            function updateSectionBackgrounds() {
                // DISABLED: This function was causing the performance section to stay dark in light mode
                // The function was applying inline styles that persisted when switching themes
                console.log('updateSectionBackgrounds function disabled to fix theme switching issues');
                return;
            }

            // Run on page load
            updateSectionBackgrounds();

            // Listen for theme changes
            window.addEventListener('themeChanged', updateSectionBackgrounds);

            // Watch for attribute changes on html element
            const observer = new MutationObserver(function (mutations) {
                mutations.forEach(function (mutation) {
                    if (mutation.attributeName === 'data-theme') {
                        updateSectionBackgrounds();
                    }
                });
            });

            observer.observe(document.documentElement, { attributes: true });
        });
    </script>

    <!-- Immediate Dark Mode Background Fix - DISABLED -->
    <script>
        // DISABLED: This script was causing performance section to stay dark in light mode
        // It was applying !important styles that persisted when switching themes
        console.log('Immediate Dark Mode Background Fix disabled to fix theme switching issues');
    </script>

    <!-- KCCA SACCO Testimonials Section -->
    <section class="w3l-index4 py-5" id="testimonials" style="color: white;">
        <div class="container py-md-5 py-4">
            <div class="title-main text-center mx-auto mb-md-5 mb-4" style="max-width:700px;">
                <h5 class="small-title mb-2">Member Experiences</h5>
                <h3 class="title-style">How We've Made a Difference</h3>
            </div>
            <div class="content-slider text-center py-4">
                <div class="row">
                    <!-- Testimonial 1 -->
                    <div class="col-md-4 mb-4 mb-md-0">
                        <div class="testimonial-card p-4 h-100">
                            <img src="assets/images/testi2.jpg" class="img-fluid rounded-circle mb-3"
                                alt="KCCA staff member" style="width: 100px; height: 100px; object-fit: cover;" />
                            <blockquote class="quote"><q>The asset financing product helped me acquire a vehicle for my
                                    family at discounted rates through our cooperative partnerships.</q></blockquote>
                            <div class="source mt-3">- James O., KCCA Engineering</div>
                        </div>
                    </div>

                    <!-- Testimonial 2 -->
                    <div class="col-md-4 mb-4 mb-md-0">
                        <div class="testimonial-card p-4 h-100">
                            <img src="assets/images/testi3.jpg" class="img-fluid rounded-circle mb-3"
                                alt="KCCA staff member" style="width: 100px; height: 100px; object-fit: cover;" />
                            <blockquote class="quote"><q>I've benefited from both the 11% interest on my savings and 10%
                                    dividend payout - this dual benefit is unmatched elsewhere.</q></blockquote>
                            <div class="source mt-3">- Proscovia N., KCCA Administration</div>
                        </div>
                    </div>

                    <!-- Testimonial 3 -->
                    <div class="col-md-4">
                        <div class="testimonial-card p-4 h-100">
                            <img src="assets/images/testi2.jpg" class="img-fluid rounded-circle mb-3"
                                alt="KCCA staff member" style="width: 100px; height: 100px; object-fit: cover;" />
                            <blockquote class="quote"><q>The transition to multipurpose cooperative has brought us more
                                    products and services to meet our evolving needs.</q></blockquote>
                            <div class="source mt-3">- Edgar B., KCCA Planning Department</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- //KCCA SACCO Testimonials Section -->


    <!-- SACCO News Section -->
    <div class="w3l-blog-block-5 py-5" id="news">
        <div class="container py-md-5 py-4">
            <div class="title-main text-center mx-auto mb-md-5 mb-4" style="max-width:700px;">
                <h5 class="small-title mb-2">Latest Updates</h5>
                <h3 class="title-style">KCCA Multipurpose Cooperative Society News & Announcements</h3>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-4 col-md-6">
                    <div class="blog-card-single">
                        <div class="grids5-info">
                            <a href="resources.html#financials"><img src="assets/images/blog.png"
                                    alt="Financials" /></a>
                            <div class="blog-info">
                                <h4><a href="resources.html#financials">Audited Financial Statements</a></h4>
                                <p>Review the audited financial statements for the year ending 2023 for transparency and
                                    accountability.</p>
                                <div class="d-flex align-items-center justify-content-between mt-4">
                                    <span class="small ms-2">Finance Department</span>
                                    <p class="date-text"><i class="far fa-calendar-alt me-1"></i>May 10, 2025</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mt-md-0 mt-4">
                    <div class="blog-card-single">
                        <div class="grids5-info">
                            <a href="resources.html#newsletter"><img src="assets/images/blog4.jpg"
                                    alt="Newsletter" /></a>
                            <div class="blog-info">
                                <h4><a href="resources.html#newsletter">Newsletter Issue 2025 Available</a></h4>
                                <p>Catch up on our milestones, member success stories, and upcoming initiatives in our
                                    latest newsletter.</p>
                                <div class="d-flex align-items-center justify-content-between mt-4">
                                    <span class="small ms-2">Communications Team</span>
                                    <p class="date-text"><i class="far fa-calendar-alt me-1"></i>May 5, 2025</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mt-lg-0 mt-4">
                    <div class="blog-card-single">
                        <div class="grids5-info">
                            <a href="resources.html#annualreport"><img src="assets/images/blog5.jpg"
                                    alt="Annual Report" /></a>
                            <div class="blog-info">
                                <h4><a href="resources.html#annualreport">Annual Report 2023 Published</a></h4>
                                <p>Access insights into our performance, achievements, and strategic direction outlined
                                    in the 2023 annual report.</p>
                                <div class="d-flex align-items-center justify-content-between mt-4">
                                    <span class="small ms-2">Board Secretariat</span>
                                    <p class="date-text"><i class="far fa-calendar-alt me-1"></i>Apr 30, 2025</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- //SACCO News Section -->

    <!-- Services Section -->
    <section class="services-section py-5" id="services">
        <div class="container py-lg-4 py-md-3 py-2">
            <div class="title-main text-center mx-auto mb-md-5 mb-4" style="max-width:700px;">
                <h5 class="small-title mb-2">Convenient Services</h5>
                <h3 class="title-style">Banking Made Simple</h3>
                <p class="mt-3 text-muted">Access your funds anytime through our flexible banking channels.</p>
            </div>
            <div class="row justify-content-center mt-4">

                <!-- 1. Deposit Funds (Green) -->
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="service-card border-green">
                        <div class="service-icon bg-green">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h4 class="service-title text-green">Deposit Funds</h4>
                        <p class="service-description">Deposit options through our banking partners.</p>
                        <ul class="service-features">
                            <li>DFCU Bank branches</li>
                            <li>Stanbic FlexiPay</li>
                            <li>Direct bank transfers</li>
                        </ul>
                        <div class="button-container">
                            <a href="#" class="btn btn-outline-green rounded-pill px-4 mt-3">Deposit Now</a>
                        </div>
                    </div>
                </div>

                <!-- 2. Withdraw Funds (Red) -->
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="service-card border-danger">
                        <div class="service-icon bg-danger">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <h4 class="service-title text-danger">Withdraw Funds</h4>
                        <p class="service-description">Multiple convenient withdrawal options</p>
                        <ul class="service-features">
                            <li>Mobile Money (MTN/Airtel)</li>
                            <li>Cash at our offices</li>
                            <li>Agent banking network</li>
                        </ul>
                        <div class="button-container">
                            <a href="#" class="btn btn-outline-danger rounded-pill px-4 mt-3">Withdraw Now</a>
                        </div>
                    </div>
                </div>

                <!-- 3. Digital Banking (Black) -->
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="service-card border-black">
                        <div class="service-icon bg-black">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h4 class="service-title text-black">Digital Banking</h4>
                        <p class="service-description">Manage your account anytime, anywhere</p>
                        <ul class="service-features">
                            <li>24/7 account access</li>
                            <li>Loan applications</li>
                            <li>Transaction history</li>
                        </ul>
                        <div class="button-container">
                            <a href="#" class="btn btn-outline-black rounded-pill px-4 mt-3">Access Now</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Partners Slider Section -->
    <section class="partners-slider py-5" id="partners-slider">
        <div class="container py-lg-4 py-md-3 py-2">
            <div class="title-main text-center mx-auto mb-md-5 mb-4" style="max-width:700px;">
                <h5 class="small-title mb-2">Strategic Collaborations</h5>
                <h3 class="title-style">Our Partners</h3>
                <p class="mt-3 text-muted">We collaborate with trusted brands to deliver exclusive benefits to our
                    members.</p>
            </div>

            <div class="partners-carousel">
                <div class="partners-track">
                    <!-- Partner Logo 1 -->
                    <div class="partner-slide">
                        <div class="partner-logo-container">
                            <img src="assets/images/geepas.png" data-light-src="assets/images/geepas.png"
                                data-dark-src="assets/images/geepas-dark.png" alt="GEEPAS" class="partner-logo">
                        </div>
                    </div>

                    <!-- Partner Logo 2 -->
                    <div class="partner-slide">
                        <div class="partner-logo-container">
                            <img src="assets/images/mantra.png" data-light-src="assets/images/mantra.png"
                                data-dark-src="assets/images/mantra-dark.png" alt="Mantra Uganda Limited"
                                class="partner-logo">
                        </div>
                    </div>

                    <!-- Partner Logo 3 -->
                    <div class="partner-slide">
                        <div class="partner-logo-container">
                            <img src="assets/images/diamondstars.png" data-light-src="assets/images/diamondstars.png"
                                data-dark-src="assets/images/diamondstars-dark.png" alt="Diamond Stars Limited"
                                class="partner-logo">
                        </div>
                    </div>

                    <!-- Duplicate slides for seamless loop -->
                    <div class="partner-slide">
                        <div class="partner-logo-container">
                            <img src="assets/images/geepas.png" data-light-src="assets/images/geepas.png"
                                data-dark-src="assets/images/geepas-dark.png" alt="GEEPAS" class="partner-logo">
                        </div>
                    </div>

                    <div class="partner-slide">
                        <div class="partner-logo-container">
                            <img src="assets/images/mantra.png" data-light-src="assets/images/mantra.png"
                                data-dark-src="assets/images/mantra-dark.png" alt="Mantra Uganda Limited"
                                class="partner-logo">
                        </div>
                    </div>

                    <div class="partner-slide">
                        <div class="partner-logo-container">
                            <img src="assets/images/diamondstars.png" data-light-src="assets/images/diamondstars.png"
                                data-dark-src="assets/images/diamondstars-dark.png" alt="Diamond Stars Limited"
                                class="partner-logo">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Theme Support Script -->
    <script>
        // Listen for theme changes from the main theme manager
        document.addEventListener('DOMContentLoaded', function () {
            // Enhanced theme support for specific components
            window.addEventListener('themeChanged', function (e) {
                const theme = e.detail.theme;
                updateServiceCards(theme);
                updateBulletColors(theme);
                updateNavHoverEffects(theme);
            });

            // Simplified navigation hover effects
            function updateNavHoverEffects(theme) {
                // Remove any existing nav styles
                const existingStyle = document.getElementById('nav-theme-style');
                if (existingStyle) {
                    existingStyle.remove();
                }

                // Add appropriate styles for current theme
                const navStyle = document.createElement('style');
                navStyle.id = 'nav-theme-style';
                navStyle.innerHTML = `
            [data-theme="${theme}"] #navbarScroll .nav-link:hover {
                color: #F22233 !important;
                transition: color 0.3s ease;
            }
            [data-theme="${theme}"] #navbarScroll .nav-link.active {
                color: #F22233 !important;
            }
        `;
                document.head.appendChild(navStyle);
            }

            // Simplified bullet colors update
            function updateBulletColors(theme) {
                const serviceCards = document.querySelectorAll('.service-card');
                serviceCards.forEach(card => {
                    const bullets = card.querySelectorAll('.service-features li');
                    bullets.forEach(bullet => {
                        if (card.classList.contains('border-danger')) {
                            bullet.style.setProperty('--bullet-color', theme === 'dark' ? '#aa3333' : '#C8102E');
                        } else if (card.classList.contains('border-black')) {
                            bullet.style.setProperty('--bullet-color', theme === 'dark' ? '#888888' : '#000000');
                        } else if (card.classList.contains('border-green')) {
                            bullet.style.setProperty('--bullet-color', theme === 'dark' ? '#2a6a2a' : '#2E7D32');
                        }
                    });
                });
            }

            // Simplified service cards update
            function updateServiceCards(theme) {
                const serviceCards = document.querySelectorAll('.service-card');
                serviceCards.forEach(card => {
                    const title = card.querySelector('.service-title');
                    const button = card.querySelector('.btn');

                    if (theme === 'dark') {
                        // Update title color
                        if (title) title.style.color = '#ffffff';

                        // Update border and button colors based on card type
                        if (card.classList.contains('border-danger')) {
                            card.style.borderColor = '#aa3333';
                            if (button) {
                                button.style.color = '#aa3333';
                                button.style.borderColor = '#aa3333';
                            }
                        } else if (card.classList.contains('border-green')) {
                            card.style.borderColor = '#2a6a2a';
                            if (button) {
                                button.style.color = '#2a6a2a';
                                button.style.borderColor = '#2a6a2a';
                            }
                        } else if (card.classList.contains('border-black')) {
                            card.style.borderColor = '#888888'; // Dull white/gray for Digital Banking
                            if (button) {
                                button.style.color = '#888888';
                                button.style.borderColor = '#888888';
                            }
                        } else if (card.classList.contains('border-primary')) {
                            card.style.borderColor = '#004080';
                            if (button) {
                                button.style.color = '#004080';
                                button.style.borderColor = '#004080';
                            }
                        }
                        card.style.borderWidth = '2px';
                    } else {
                        // Reset to light mode
                        card.style.borderColor = '';
                        card.style.borderWidth = '';
                        if (title) title.style.color = '';
                        if (button) {
                            button.style.color = '';
                            button.style.borderColor = '';
                        }
                    }
                });
            }

            // Add essential CSS for theme support
            const styleEl = document.createElement('style');
            styleEl.id = 'theme-support-styles';
            styleEl.innerHTML = `
        /* Service card bullet colors */
        .service-features li {
            --bullet-color: inherit;
        }
        .service-features li::before {
            color: var(--bullet-color) !important;
        }

        /* Slider navigation buttons */
        .nav-btn, .buttons button {
            background-color: #F22233 !important;
            color: white !important;
            border: none !important;
            border-radius: 50% !important;
        }
        .nav-btn i, .buttons button i {
            color: white !important;
        }

        /* Partner card buttons */
        .partner-card .btn {
            border-radius: 50px !important;
            padding: 8px 20px !important;
        }

        /* Removed problematic light mode section background forcing */

        /* Years badge - ensure red background in dark mode */
        [data-theme="dark"] .w3l-about .years-badge,
        body.dark-mode .w3l-about .years-badge,
        .theme-container.dark-mode .w3l-about .years-badge {
            background-color: #F22233 !important;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4) !important;
        }

        [data-theme="dark"] .w3l-about .years-badge .number,
        [data-theme="dark"] .w3l-about .years-badge .text,
        body.dark-mode .w3l-about .years-badge .number,
        body.dark-mode .w3l-about .years-badge .text,
        .theme-container.dark-mode .w3l-about .years-badge .number,
        .theme-container.dark-mode .w3l-about .years-badge .text {
            color: #fff !important;
        }

        /* Impact section buttons - ensure white arrows */
        .w3l-homeblock3 .btn i,
        .impact-section .btn i,
        .impact-card .btn i,
        .btn-style i,
        .btn-style-success i,
        .btn-style-primary i {
            color: white !important;
        }

        /* Specifically target arrow icons in impact buttons */
        .w3l-homeblock3 .fa-arrow-right,
        .impact-section .fa-arrow-right,
        .btn-style .fa-arrow-right,
        .btn-style-success .fa-arrow-right,
        .btn-style-primary .fa-arrow-right {
            color: white !important;
        }

        /* Removed problematic dark mode section background forcing */

        /* Dark mode service card overrides */
        [data-theme="dark"] .service-card.border-black {
            border-color: #888888 !important;
        }

        [data-theme="dark"] .service-card.border-black .btn {
            color: #888888 !important;
            border-color: #888888 !important;
        }

        [data-theme="dark"] .service-card.border-black .service-features li::before {
            color: #888888 !important;
        }

        /* Dark mode button hover effects */
        [data-theme="dark"] .service-card.border-green .btn:hover {
            background-color: #2a6a2a !important;
            color: #cccccc !important;
            border-color: #2a6a2a !important;
        }

        [data-theme="dark"] .service-card.border-danger .btn:hover {
            background-color: #aa3333 !important;
            color: #cccccc !important;
            border-color: #aa3333 !important;
        }

        [data-theme="dark"] .service-card.border-black .btn:hover {
            background-color: #888888 !important;
            color: white !important;
            border-color: #888888 !important;
        }

        [data-theme="dark"] .service-card.border-primary .btn:hover {
            background-color: #004080 !important;
            color: white !important;
            border-color: #004080 !important;
        }

        /* Asset financing buttons - align to left */
        #assets .product-card .btn,
        #assets .btn {
            text-align: left !important;
            display: block !important;
            width: fit-content !important;
            margin-left: 0 !important;
            margin-right: auto !important;
        }

        /* Force Partner With Us button to be round */
        .partners-section .text-center .btn-primary,
        .partners-section .btn-primary {
            border-radius: 50px !important;
            -webkit-border-radius: 50px !important;
            -moz-border-radius: 50px !important;
        }

        /* Partners Slider Styles */
        .partners-slider {
            background-color: #f8f9fa;
            overflow: hidden;
        }

        [data-theme="dark"] .partners-slider {
            background-color: #121212;
        }

        .partners-carousel {
            overflow: hidden;
            position: relative;
            width: 100%;
        }

        .partners-track {
            display: flex;
            animation: slide 20s linear infinite;
            width: calc(200%);
        }

        .partner-slide {
            flex: 0 0 calc(100% / 6);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .partner-logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 180px;
            height: 120px;
        }

        .partner-logo {
            max-width: 100%;
            max-height: 80px;
            object-fit: contain;
            filter: grayscale(30%);
            transition: all 0.3s ease;
            opacity: 0.8;
        }

        .partner-logo-container:hover .partner-logo {
            filter: grayscale(0%);
            opacity: 1;
            transform: scale(1.05);
        }

        @keyframes slide {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        .partners-track:hover {
            animation-play-state: paused;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .partner-slide {
                flex: 0 0 calc(100% / 3);
            }

            .partner-logo-container {
                width: 140px;
                height: 100px;
            }

            .partner-logo {
                max-height: 60px;
            }
        }

        @media (max-width: 480px) {
            .partner-slide {
                flex: 0 0 calc(100% / 2);
            }

            .partner-logo-container {
                width: 120px;
                height: 80px;
            }

            .partner-logo {
                max-height: 50px;
            }
        }

        /* Remove problematic background forcing - let natural theme handle it */

        /* Very Dark Grey Updates Section */
        .updates-dark-section {
            background-color: #1a1a1a !important;
            padding: 2rem 1.5rem;
            border-radius: 12px;
            border: 1px solid #333;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .updates-dark-section .footer-title {
            color: #ffffff !important;
            border-bottom: 2px solid #28a745;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .updates-dark-section .update-category {
            background-color: #28a745;
            color: #ffffff;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .updates-dark-section .update-date {
            color: #888;
            font-size: 0.8rem;
        }

        .updates-dark-section .update-title {
            color: #e0e0e0 !important;
            font-weight: 500;
        }

        .updates-dark-section .update-title:hover {
            color: #28a745 !important;
            text-decoration: none;
        }

        /* Dark mode adjustments for updates section */
        [data-theme="dark"] .updates-dark-section {
            background-color: #0d0d0d !important;
            border-color: #444;
        }

        [data-theme="dark"] .updates-dark-section .update-date {
            color: #666;
        }
    `;
            document.head.appendChild(styleEl);

            // Initialize theme-specific styling
            const currentTheme = localStorage.getItem('theme') || 'light';
            updateServiceCards(currentTheme);
            updateBulletColors(currentTheme);
            updateNavHoverEffects(currentTheme);

            // Removed problematic background forcing JavaScript that was causing conflicts

            // Force immediate update of digital banking card styling
            setTimeout(() => {
                const digitalBankingCard = document.querySelector('.service-card.border-black');
                if (digitalBankingCard && currentTheme === 'dark') {
                    digitalBankingCard.style.borderColor = '#888888';
                    digitalBankingCard.style.borderWidth = '2px';

                    const button = digitalBankingCard.querySelector('.btn');
                    if (button) {
                        button.style.color = '#888888';
                        button.style.borderColor = '#888888';
                    }

                    const bullets = digitalBankingCard.querySelectorAll('.service-features li');
                    bullets.forEach(bullet => {
                        bullet.style.setProperty('--bullet-color', '#888888');
                    });
                }
            }, 100);
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Enhanced UI styling
            const partnerButtons = document.querySelectorAll('.partner-card .btn');
            partnerButtons.forEach(button => {
                button.style.borderRadius = '50px';
                button.style.padding = '8px 20px';

                button.addEventListener('mouseenter', () => {
                    button.style.transform = 'translateY(-3px)';
                    button.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.2)';
                });

                button.addEventListener('mouseleave', () => {
                    button.style.transform = 'none';
                    button.style.boxShadow = 'none';
                });
            });

            // Style main partner button - force round with high priority
            const mainPartnerBtn = document.querySelector('.partners-section .text-center.mt-5 .btn');
            if (mainPartnerBtn) {
                mainPartnerBtn.style.setProperty('border-radius', '50px', 'important');
                mainPartnerBtn.style.setProperty('-webkit-border-radius', '50px', 'important');
                mainPartnerBtn.style.setProperty('-moz-border-radius', '50px', 'important');
                mainPartnerBtn.style.setProperty('padding', '10px 30px', 'important');
                console.log('Partner button styled:', mainPartnerBtn);
            } else {
                console.log('Partner button not found');
            }

            // Fix slider arrow colors and impact button arrows
            setTimeout(() => {
                // Slider arrows
                document.querySelectorAll('.nav-btn i, .buttons button i').forEach(icon => {
                    icon.style.color = 'white';
                    icon.style.fill = 'white';
                });

                // Impact section button arrows
                document.querySelectorAll('.w3l-homeblock3 .btn i, .impact-section .btn i, .btn-style i, .btn-style-success i, .btn-style-primary i').forEach(icon => {
                    icon.style.color = 'white';
                    icon.style.fill = 'white';
                });

                // Specifically target arrow icons
                document.querySelectorAll('.fa-arrow-right').forEach(arrow => {
                    arrow.style.color = 'white';
                    arrow.style.fill = 'white';
                });
            }, 500);

            // Add product card hover effects with rings matching button colors
            setTimeout(() => {
                const productCards = document.querySelectorAll('.product-card');

                productCards.forEach(card => {
                    // Add base styling
                    card.style.transition = 'all 0.3s ease';
                    card.style.cursor = 'pointer';
                    card.style.position = 'relative';

                    // Find the button to determine color
                    const button = card.querySelector('.btn');
                    if (!button) return;

                    let ringColor = '';
                    let shadowColor = '';

                    // Determine brighter ring colors based on button class
                    if (button.classList.contains('btn-outline-success')) {
                        ringColor = 'rgba(40, 167, 69, 0.8)'; // Brighter Green
                        shadowColor = 'rgba(40, 167, 69, 0.5)';
                    } else if (button.classList.contains('btn-outline-danger')) {
                        ringColor = 'rgba(220, 53, 69, 0.8)'; // Brighter Red
                        shadowColor = 'rgba(220, 53, 69, 0.5)';
                    } else if (button.classList.contains('btn-outline-blue')) {
                        ringColor = 'rgba(0, 123, 255, 0.8)'; // Brighter Blue
                        shadowColor = 'rgba(0, 123, 255, 0.5)';
                    } else if (button.classList.contains('btn-outline-warning')) {
                        ringColor = 'rgba(255, 193, 7, 0.8)'; // Brighter Yellow
                        shadowColor = 'rgba(255, 193, 7, 0.5)';
                    } else if (button.classList.contains('btn-outline-info')) {
                        ringColor = 'rgba(23, 162, 184, 0.8)'; // Brighter Cyan
                        shadowColor = 'rgba(23, 162, 184, 0.5)';
                    } else if (button.classList.contains('btn-outline-secondary')) {
                        ringColor = 'rgba(108, 117, 125, 0.8)'; // Brighter Gray
                        shadowColor = 'rgba(108, 117, 125, 0.5)';
                    }

                    if (ringColor) {
                        card.addEventListener('mouseenter', () => {
                            card.style.transform = 'translateY(-8px)';
                            card.style.boxShadow = `0 4px 15px rgba(0,0,0,0.1), 0 0 0 2px ${ringColor}`;
                        });

                        card.addEventListener('mouseleave', () => {
                            card.style.transform = 'translateY(0)';
                            card.style.boxShadow = '0 4px 15px rgba(0,0,0,0.1)';
                        });
                    }
                });
            }, 100);

            // Force green hover effect on 12+ years badge
            setTimeout(() => {
                const yearsBadge = document.querySelector('.years-badge');
                if (yearsBadge) {
                    console.log('Years badge found:', yearsBadge);

                    // Set base styling
                    yearsBadge.style.transition = 'all 0.3s ease';
                    yearsBadge.style.cursor = 'pointer';

                    // Add green hover effect
                    yearsBadge.addEventListener('mouseenter', () => {
                        console.log('Years badge hovered - applying green effect');
                        yearsBadge.style.setProperty('border-color', '#28a745', 'important');
                        yearsBadge.style.setProperty('box-shadow', '0 0 0 3px rgba(40, 167, 69, 0.3)', 'important');
                        yearsBadge.style.setProperty('transform', 'scale(1.05)', 'important');
                    });

                    yearsBadge.addEventListener('mouseleave', () => {
                        console.log('Years badge unhovered - removing green effect');
                        yearsBadge.style.removeProperty('border-color');
                        yearsBadge.style.removeProperty('box-shadow');
                        yearsBadge.style.removeProperty('transform');
                    });
                } else {
                    console.log('Years badge not found');
                }
            }, 200);

            // Add corresponding color hover effects for product buttons in dark mode
            setTimeout(() => {
                const productButtons = document.querySelectorAll('.product-card .btn');

                productButtons.forEach(button => {
                    button.addEventListener('mouseenter', () => {
                        const isDarkMode = document.documentElement.getAttribute('data-theme') === 'dark';
                        if (isDarkMode) {
                            // Apply corresponding color hover effect based on button class for ALL product buttons
                            const card = button.closest('.product-card');

                            // Apply corresponding color hover effect based on button class
                            let hoverColor = '';

                            if (button.classList.contains('btn-outline-success')) {
                                hoverColor = '#28a745'; // Green
                            } else if (button.classList.contains('btn-outline-danger')) {
                                hoverColor = '#dc3545'; // Red
                            } else if (button.classList.contains('btn-outline-blue')) {
                                hoverColor = '#007bff'; // Blue
                            } else if (button.classList.contains('btn-outline-warning')) {
                                hoverColor = '#ffc107'; // Yellow
                            } else if (button.classList.contains('btn-outline-info')) {
                                hoverColor = '#17a2b8'; // Cyan
                            } else if (button.classList.contains('btn-outline-secondary')) {
                                hoverColor = '#6c757d'; // Gray
                            } else {
                                hoverColor = '#007bff'; // Default blue
                            }

                            button.style.setProperty('background-color', hoverColor, 'important');
                            button.style.setProperty('color', 'white', 'important');
                            button.style.setProperty('border-color', hoverColor, 'important');
                            button.style.transform = 'translateY(-2px)';
                        }
                    });

                    button.addEventListener('mouseleave', () => {
                        const isDarkMode = document.documentElement.getAttribute('data-theme') === 'dark';
                        if (isDarkMode) {
                            // Remove hover effect for ALL product buttons
                            button.style.removeProperty('background-color');
                            button.style.removeProperty('color');
                            button.style.removeProperty('border-color');
                            button.style.transform = '';
                        }
                    });
                });
            }, 300);

            // Simple partner logo switching system
            function switchPartnerLogos() {
                const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
                const partnerLogos = document.querySelectorAll('.partner-logo-img, .partner-logo');

                console.log('🔄 Switching partner logos for theme:', currentTheme);
                console.log('📸 Found partner logos:', partnerLogos.length);

                partnerLogos.forEach((logo, index) => {
                    const lightSrc = logo.getAttribute('data-light-src');
                    const darkSrc = logo.getAttribute('data-dark-src');

                    if (currentTheme === 'dark' && darkSrc) {
                        logo.src = darkSrc;
                        console.log(`✅ Logo ${index + 1} switched to DARK:`, darkSrc);
                    } else if (currentTheme === 'light' && lightSrc) {
                        logo.src = lightSrc;
                        console.log(`✅ Logo ${index + 1} switched to LIGHT:`, lightSrc);
                    }
                });
            }

            // Initialize on page load
            setTimeout(switchPartnerLogos, 200);

            // Watch for theme changes
            const observer = new MutationObserver(function (mutations) {
                mutations.forEach(function (mutation) {
                    if (mutation.attributeName === 'data-theme') {
                        console.log('🎨 Theme change detected!');
                        setTimeout(switchPartnerLogos, 100);
                    }
                });
            });
            observer.observe(document.documentElement, { attributes: true });

            // Listen for custom theme events
            window.addEventListener('themeChanged', function (e) {
                console.log('🎨 Custom theme event:', e.detail);
                setTimeout(switchPartnerLogos, 100);
            });

            // Add hover effects to Our Impact section buttons
            setTimeout(() => {
                const impactButtons = document.querySelectorAll('.w3l-homeblock3 .btn');

                impactButtons.forEach(button => {
                    // Add base styling
                    button.style.transition = 'all 0.3s ease';
                    button.style.position = 'relative';

                    // Green buttons get green hover effects
                    const ringColor = 'rgba(40, 167, 69, 0.8)'; // Green
                    const shadowColor = 'rgba(40, 167, 69, 0.5)';

                    button.addEventListener('mouseenter', () => {
                        button.style.setProperty('border-color', ringColor, 'important');
                        button.style.setProperty('box-shadow', `0 0 0 2px ${shadowColor}`, 'important');
                        button.style.transform = 'translateY(-2px)';
                    });

                    button.addEventListener('mouseleave', () => {
                        button.style.removeProperty('border-color');
                        button.style.removeProperty('box-shadow');
                        button.style.transform = '';
                    });
                });
            }, 400);
        });
    </script>


    <!-- KCCA SACCO Footer -->
    <footer class="kcca-footer">
        <div class="footer-top py-5">
            <div class="container">
                <div class="row g-4">
                    <!-- About Column -->
                    <div class="col-lg-4 col-md-6">
                        <div class="footer-about">
                            <h5 class="footer-title">About Us</h5>
                            <p class="mt-3">KCCA Staff Multipurpose Cooperative Society Limited has been providing
                                exceptional financial services to Kampala Capital City Authority employees since 2012.
                                We empower our members through affordable credit, savings products, and investment
                                opportunities.</p>
                            <div class="social-links mt-4">
                                <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="social-icon"><i class="fab fa-whatsapp"></i></a>
                                <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Links Column -->
                    <div class="col-lg-2 col-md-6">
                        <div class="footer-links">
                            <h5 class="footer-title">Quick Links</h5>
                            <ul class="mt-3">
                                <li><a href="#"><i class="fas fa-chevron-right me-2"></i>Home</a></li>
                                <li><a href="#"><i class="fas fa-chevron-right me-2"></i>About Us</a></li>
                                <li><a href="#"><i class="fas fa-chevron-right me-2"></i>Products</a></li>
                                <li><a href="#"><i class="fas fa-chevron-right me-2"></i>Membership</a></li>
                                <li><a href="#"><i class="fas fa-chevron-right me-2"></i>Resources</a></li>
                                <li><a href="#"><i class="fas fa-chevron-right me-2"></i>Contact us</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Updates Column -->
                    <div class="col-lg-3 col-md-6">
                        <div class="footer-updates">
                            <h5 class="footer-title">Recent Updates</h5>
                            <div class="update-items mt-3">
                                <div class="update-item mb-3">
                                    <div class="update-meta">
                                        <span class="update-category">Board</span>
                                        <span class="update-date">- Nov 21 -</span>
                                    </div>
                                    <a href="#" class="update-title">2024 Loan Interest Rates Announcement</a>
                                </div>
                                <div class="update-item">
                                    <div class="update-meta">
                                        <span class="update-category">Management</span>
                                        <span class="update-date">- Nov 15 -</span>
                                    </div>
                                    <a href="#" class="update-title">AGM 2023 Minutes Now Available</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Column -->
                    <div class="col-lg-3 col-md-6">
                        <div class="footer-contact">
                            <h5 class="footer-title">Contact Us</h5>
                            <div class="contact-info mt-3">
                                <div class="contact-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>
                                        KCCA City Hall,<br>
                                        Plot 1–3 Apollo Kaggwa Road,<br>
                                        P.O. Box 7010, Kampala Uganda
                                    </span>
                                </div>
                                <div class="contact-item">
                                    <i class="fas fa-phone-alt"></i>
                                    <a href="tel:+256414123456">+256 414 123456</a>
                                </div>
                                <div class="contact-item">
                                    <i class="fas fa-envelope"></i>
                                    <a href="mailto:info@kccasacco.co.ug">info@kccasacco.co.ug</a>
                                </div>
                                <div class="contact-item">
                                    <i class="fas fa-clock"></i>
                                    <span>Mon-Fri: 8:30AM - 5PM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom py-3">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6 text-center text-md-start">
                        <p class="mb-0">&copy; 2025 KCCA Staff Multipurpose Cooperative Society Limited. All rights
                            reserved | Reg. No. CDS/2012/1234</p>
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        <div class="payment-methods">
                            <span class="me-2">We accept:</span>
                            <img src="assets/images/dfcu.png" alt="DFCU Bank" width="60">
                            <img src="assets/images/flexipay.png" alt="FlexiPay" width="60">
                            <img src="assets/images/airtel.png" alt="Airtel Money" width="60">
                            <img src="assets/images/mtn.png" alt="MTN Mobile Money" width="60">

                        </div>
                    </div>

                </div>
            </div>
        </div>
        </div>
    </footer>

    <!-- Js scripts -->
    <!-- move top -->
    <button onclick="topFunction()" id="movetop" title="Go to top">
        <span class="fas fa-level-up-alt" aria-hidden="true"></span>
    </button>
    <script>
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function () {
            scrollFunction()
        };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("movetop").style.display = "block";
            } else {
                document.getElementById("movetop").style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
    <!-- //move top -->

    <!-- common jquery plugin -->
    <script src="assets/js/jquery-3.3.1.min.js"></script>
    <!-- //common jquery plugin -->

    <!-- banner slider -->
    <script>
        const slides = document.querySelectorAll(".slide");
        const nextButton = document.getElementById("next");
        const prevButton = document.getElementById("prev");
        const auto = true;
        const intervalTime = 5000;
        let slideInterval;

        const nextSlide = () => {
            const current = document.querySelector(".current");
            current.classList.remove("current");
            if (current.nextElementSibling) {
                current.nextElementSibling.classList.add("current");
            } else {
                slides[0].classList.add("current");
            }
        };

        const prevSlide = () => {
            const current = document.querySelector(".current");
            current.classList.remove("current");
            if (current.previousElementSibling) {
                current.previousElementSibling.classList.add("current");
            } else {
                slides[slides.length - 1].classList.add("current");
            }
        };

        nextButton.addEventListener("click", () => {
            nextSlide();
            if (auto) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, intervalTime);
            }
        });
        prevButton.addEventListener("click", () => {
            prevSlide();
            if (auto) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, intervalTime);
            }
        });

        if (auto) {
            slideInterval = setInterval(nextSlide, intervalTime);
        }
    </script>
    <!-- //banner slider -->

    <!-- Comprehensive Theme Management System -->
    <script>
        // Theme Management System for About Page
        class ThemeManager {
            constructor() {
                this.toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
                this.currentTheme = localStorage.getItem('theme') || 'light';
                this.logo = document.getElementById('logo');
                this.init();
            }

            init() {
                // Set initial theme
                this.setTheme(this.currentTheme);

                // Add event listeners
                if (this.toggleSwitch) {
                    this.toggleSwitch.addEventListener('change', (e) => this.handleToggle(e));
                }

                // Listen for system theme changes
                if (window.matchMedia) {
                    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                        if (!localStorage.getItem('theme')) {
                            this.setTheme(e.matches ? 'dark' : 'light');
                        }
                    });
                }
            }

            setTheme(theme) {
                this.currentTheme = theme;

                // Update document attribute
                document.documentElement.setAttribute('data-theme', theme);

                // Update localStorage
                localStorage.setItem('theme', theme);

                // Update toggle switch
                if (this.toggleSwitch) {
                    this.toggleSwitch.checked = theme === 'dark';
                }

                // Update body classes
                if (theme === 'dark') {
                    document.body.classList.add('dark-mode');
                } else {
                    document.body.classList.remove('dark-mode');
                }

                // Update theme containers
                const themeContainers = document.querySelectorAll('.theme-container');
                themeContainers.forEach(container => {
                    if (theme === 'dark') {
                        container.classList.add('dark-mode');
                    } else {
                        container.classList.remove('dark-mode');
                    }
                });

                // Update logo
                this.updateLogo(theme);

                // Dispatch custom event for other components
                window.dispatchEvent(new CustomEvent('themeChanged', {
                    detail: { theme: theme }
                }));
            }

            handleToggle(e) {
                const theme = e.target.checked ? 'dark' : 'light';
                this.setTheme(theme);
            }

            updateLogo(theme) {
                if (this.logo) {
                    const newSrc = theme === 'dark' ? this.logo.dataset.dark : this.logo.dataset.light;
                    if (newSrc) {
                        this.logo.src = newSrc;
                    }
                }
            }
        }

        // Initialize theme manager when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.themeManager = new ThemeManager();
        });
    </script>

    <!-- MENU-JS -->
    <script>
        $(window).on("scroll", function () {
            var scroll = $(window).scrollTop();

            if (scroll >= 80) {
                $("#site-header").addClass("nav-fixed");
            } else {
                $("#site-header").removeClass("nav-fixed");
            }
        });

        //Main navigation Active Class Add Remove
        $(".navbar-toggler").on("click", function () {
            $("header").toggleClass("active");
        });
        $(document).on("ready", function () {
            if ($(window).width() > 991) {
                $("header").removeClass("active");
            }
            $(window).on("resize", function () {
                if ($(window).width() > 991) {
                    $("header").removeClass("active");
                }
            });
        });
    </script>
    <!-- //MENU-JS -->

    <!-- disable body scroll which navbar is in active -->
    <script>
        $(function () {
            $('.navbar-toggler').click(function () {
                $('body').toggleClass('noscroll');
            })
        });
    </script>
    <!-- //disable body scroll which navbar is in active -->

    <!-- bootstrap -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- //bootstrap -->
    <!-- //Js scripts -->
</body>

</html>
